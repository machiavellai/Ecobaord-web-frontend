{"ast":null,"code":"var _jsxFileName = \"/Users/machiavelli/Desktop/hrms-project-frontend/src/pages/JobSeekers/CV/Update/JobSeekerCVUpdateImages.jsx\",\n  _s = $RefreshSig$();\nimport * as Yup from \"yup\";\nimport { Form, Formik } from \"formik\";\nimport React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport FormFileInput from \"../../../../components/FormFileInput/FormFileInput\";\nimport JobSeekerCVImageService from \"../../../../services/jobSeekerCVImageService\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function JobSeekerCVUpdateImages(_ref) {\n  _s();\n  let {\n    jobSeekerCV\n  } = _ref;\n  const [images, setImages] = useState([]),\n    [isEditing, setIsEditing] = useState(false);\n  const initialValues = {\n      image: null\n    },\n    validationSchema = Yup.object().shape({\n      image: Yup.mixed().required()\n    });\n  const toggleEditing = () => setIsEditing(!isEditing);\n  const jobSeekerCVImageService = useMemo(() => new JobSeekerCVImageService(), []),\n    getAllByJobSeekerId = useCallback(async jobSeekerId => {\n      const result = await jobSeekerCVImageService.getAllByJobSeekerCV_Id(jobSeekerId);\n      if (result.data.success) setImages(result.data.data);\n    }, [jobSeekerCVImageService]),\n    addImage = async values => {\n      const result = await jobSeekerCVImageService.addAndSave(values.image, jobSeekerCV.jobSeeker.id);\n      if (result.data.success) {\n        getAllByJobSeekerId(jobSeekerCV.jobSeeker.id);\n        toast.success(result.data.message);\n      }\n    },\n    deleteImage = async id => {\n      const result = await jobSeekerCVImageService.delete(id);\n      if (result.data.success) {\n        setImages(images.filter(i => i.id !== id));\n        toast.success(result.data.message);\n      }\n    };\n  useEffect(() => {\n    getAllByJobSeekerId(jobSeekerCV.id);\n  }, [getAllByJobSeekerId, jobSeekerCV.id]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-between align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Images\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), !isEditing ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn shadow-none\",\n        onClick: () => toggleEditing(),\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-pencil-square\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn shadow-none\",\n        onClick: () => toggleEditing(),\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-check-lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), images.length > 0 ? images.map(image => /*#__PURE__*/_jsxDEV(\"figure\", {\n      className: \"figure position-relative me-3 mb-3\",\n      children: [isEditing && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => deleteImage(image.id),\n        className: \"btn btn-danger text-white position-absolute\",\n        style: {\n          right: 0\n        },\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-trash-fill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: image.url,\n        className: \"figure-img img-fluid rounded img-thumbnail rounded shadow\",\n        alt: `${jobSeekerCV.jobSeeker.firstName} ${jobSeekerCV.jobSeeker.lastName}`,\n        width: \"150\",\n        height: \"150\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"figcaption\", {\n        className: \"figure-caption\",\n        children: new Date(...image.createdAt).toLocaleString()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this)]\n    }, image.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center align-items-center display-1 text-light\",\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"bi bi-text-paragraph\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this), isEditing && /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: initialValues,\n      validationSchema: validationSchema,\n      onSubmit: values => addImage(values),\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        children: /*#__PURE__*/_jsxDEV(FormFileInput, {\n          name: \"image\",\n          label: false,\n          accept: \"image/png, image/jpeg\",\n          render: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"input-group-text btn btn-primary\",\n            htmlFor: `image-file-input`,\n            children: \"Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(JobSeekerCVUpdateImages, \"B435dzCrUwuPrQN3XRMN+COz6OY=\");\n_c = JobSeekerCVUpdateImages;\nvar _c;\n$RefreshReg$(_c, \"JobSeekerCVUpdateImages\");","map":{"version":3,"names":["Yup","Form","Formik","React","useCallback","useEffect","useMemo","useState","FormFileInput","JobSeekerCVImageService","toast","jsxDEV","_jsxDEV","JobSeekerCVUpdateImages","_ref","_s","jobSeekerCV","images","setImages","isEditing","setIsEditing","initialValues","image","validationSchema","object","shape","mixed","required","toggleEditing","jobSeekerCVImageService","getAllByJobSeekerId","jobSeekerId","result","getAllByJobSeekerCV_Id","data","success","addImage","values","addAndSave","jobSeeker","id","message","deleteImage","delete","filter","i","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","map","style","right","src","url","alt","firstName","lastName","width","height","Date","createdAt","toLocaleString","onSubmit","name","label","accept","render","type","htmlFor","_c","$RefreshReg$"],"sources":["/Users/machiavelli/Desktop/hrms-project-frontend/src/pages/JobSeekers/CV/Update/JobSeekerCVUpdateImages.jsx"],"sourcesContent":["import * as Yup from \"yup\";\n\nimport { Form, Formik } from \"formik\";\nimport React, { useCallback, useEffect, useMemo, useState } from \"react\";\n\nimport FormFileInput from \"../../../../components/FormFileInput/FormFileInput\";\nimport JobSeekerCVImageService from \"../../../../services/jobSeekerCVImageService\";\nimport { toast } from \"react-toastify\";\n\nexport default function JobSeekerCVUpdateImages({ jobSeekerCV }) {\n  const [images, setImages] = useState([]),\n    [isEditing, setIsEditing] = useState(false);\n\n  const initialValues = { image: null },\n    validationSchema = Yup.object().shape({\n      image: Yup.mixed().required(),\n    });\n\n  const toggleEditing = () => setIsEditing(!isEditing);\n\n  const jobSeekerCVImageService = useMemo(() => new JobSeekerCVImageService(), []),\n    getAllByJobSeekerId = useCallback(\n      async (jobSeekerId) => {\n        const result = await jobSeekerCVImageService.getAllByJobSeekerCV_Id(jobSeekerId);\n        if (result.data.success) setImages(result.data.data);\n      },\n      [jobSeekerCVImageService]\n    ),\n    addImage = async (values) => {\n      const result = await jobSeekerCVImageService.addAndSave(\n        values.image,\n        jobSeekerCV.jobSeeker.id\n      );\n      if (result.data.success) {\n        getAllByJobSeekerId(jobSeekerCV.jobSeeker.id);\n        toast.success(result.data.message);\n      }\n    },\n    deleteImage = async (id) => {\n      const result = await jobSeekerCVImageService.delete(id);\n      if (result.data.success) {\n        setImages(images.filter((i) => i.id !== id));\n        toast.success(result.data.message);\n      }\n    };\n\n  useEffect(() => {\n    getAllByJobSeekerId(jobSeekerCV.id);\n  }, [getAllByJobSeekerId, jobSeekerCV.id]);\n\n  return (\n    <div>\n      <div className='d-flex justify-content-between align-items-center'>\n        <h3>Images</h3>\n        {!isEditing ? (\n          <button className='btn shadow-none' onClick={() => toggleEditing()}>\n            <i className='bi bi-pencil-square' />\n          </button>\n        ) : (\n          <button className='btn shadow-none' onClick={() => toggleEditing()}>\n            <i className='bi bi-check-lg' />\n          </button>\n        )}\n      </div>\n\n      {images.length > 0 ? (\n        images.map((image) => (\n          <figure key={image.id} className='figure position-relative me-3 mb-3'>\n            {isEditing && (\n              <button\n                onClick={() => deleteImage(image.id)}\n                className='btn btn-danger text-white position-absolute'\n                style={{ right: 0 }}\n              >\n                <i className='bi bi-trash-fill' />\n              </button>\n            )}\n            <img\n              src={image.url}\n              className='figure-img img-fluid rounded img-thumbnail rounded shadow'\n              alt={`${jobSeekerCV.jobSeeker.firstName} ${jobSeekerCV.jobSeeker.lastName}`}\n              width='150'\n              height='150'\n            />\n            <figcaption className='figure-caption'>\n              {new Date(...image.createdAt).toLocaleString()}\n            </figcaption>\n          </figure>\n        ))\n      ) : (\n        <div className='d-flex justify-content-center align-items-center display-1 text-light'>\n          <i className='bi bi-text-paragraph' />\n        </div>\n      )}\n\n      {isEditing && (\n        <Formik\n          initialValues={initialValues}\n          validationSchema={validationSchema}\n          onSubmit={(values) => addImage(values)}\n        >\n          <Form>\n            <FormFileInput\n              name='image'\n              label={false}\n              accept='image/png, image/jpeg'\n              render={\n                <button\n                  type='submit'\n                  className='input-group-text btn btn-primary'\n                  htmlFor={`image-file-input`}\n                >\n                  Upload\n                </button>\n              }\n            />\n          </Form>\n        </Formik>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}